# Agents System Overview
- `src/domain/combat/agent.zig` defines the central `Agent` struct that joins together identity (`id`, `director`, `draw_style`), stats (`stats`, `stamina`, `focus`, `time_available`), a `Body`, equipped armour stack, weapons, decks (`always_available`, `spells_known`, `deck_cards`), inventory, and combat state (engagements, attention, balance, cooldown metadata, etc.).
- Physiological resources are modeled with `stats.Resource`: blood (existing), pain, trauma, morale, plus stamina/focus/time pools. Helpers expose ratios, ticking, commitment/spend semantics, and condition checks (`isIncapacitated`, `totalBleedingRate`). Because resources share an API, new mechanics can interact with them uniformly.
- Conditions blend stored instances (`conditions` array with expiration) and computed states surfaced through `ConditionIterator`. The iterator walks phases (stored entries, blood loss, engagement pressure, sensory impairment, etc.) and yields `damage.Condition` values with expiration metadata, enabling downstream consumers to treat computed and explicit conditions identically.
- Agents interface with cards (pool membership helpers), armour (`Armament` data), and the event system. Their API emphasizes capability queries (has condition, pool availability, dominant side) so higher-level systems remain declarative and data-driven rather than bespoke per agent.