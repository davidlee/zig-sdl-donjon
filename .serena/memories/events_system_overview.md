# Events System Overview
- `src/domain/events.zig` provides the event bus shared across systems. `Event` is a tagged union covering gameplay transitions (card play/move/cancel, phase shifts, stamina/focus changes), combat state (technique resolved, manoeuvre contest, advantage/range/position changes), damage pipeline (wound inflicted, artery hit, armour deflected/destroyed, condition applied/expired, blood drained), equipment changes, randomness, audio cues, and lifecycle markers.
- `EventSystem` maintains double buffers (`current_events`, `next_events`) managed via `init/deinit`, `push`, `pop`, and `swap_buffers`. Systems emit events as they operate (damage application, resolution, condition iterators) and consumers (UI, AI, logging) process them frame/tick-by-tick without tight coupling.
- Helper structs like `CardWithSlot`, `CardWithEvent`, and `RandomWithMeta` capture additional metadata so emitters stay genericâ€”events carry enough data for downstream logic to react without bespoke plumbing. Because any new mechanic just needs to add a union case and publish via `EventSystem.logEvent/push`, observability remains consistent with the data-first architecture.