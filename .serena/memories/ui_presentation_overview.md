# UI / Presentation Overview
- Presentation code lives under `src/presentation/`. `coordinator.zig` ties SDL input/render loops to view modules; `graphics.zig`/`effects.zig` handle drawing primitives/sprites. `view_state.zig` tracks global UI state (`ViewState`) including screen rects, combat UI state (dragging cards, selected targets, card animations, combat log scroll), and menu state.
- Views are modular: `src/presentation/views/` contains `view.zig` (entry point dispatching to title/menu/combat/summary subviews), `types.zig` (shared view types), and subdirectories like `views/combat` (HUD, avatar, hand, timeline panels) and `views/card` (card rendering helpers). Each view produces a list of renderables (text, sprites, rectangles) and consumes `ViewState` plus domain state from `World`.
- Card rendering is centralized in `card_renderer.zig`, which uses template/tag data to draw costs, tags, rules, effects; `views/card` builds `CardViewModel` instances feeding the renderer. Combat views read encounter state (hand, timeline, agents) and rely on domain DTOs, not direct gameplay APIs, so non-combat views (menus, summary) can reuse shared components without pulling in combat logic.
- Input handling flows through `View.handleInput`, which inspects `ViewState` (e.g., `CombatUIState.drag`, `selected_card`) and dispatches commands back to the world/coordinator, keeping UI logic separate from domain rules.