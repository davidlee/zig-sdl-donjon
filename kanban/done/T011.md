# T011: Wound → Pain/Trauma Wiring

**Status**: done
**Phase**: 4.2 of Increment 4
**Design Doc**: `doc/trauma_wounds_conditions_ph2.md` (Addendum: Revised Increment 4)
**Depends on**: T010

## Goal

Wounds generate pain and trauma based on severity and body part sensitivity.

## Changes Made

### `src/domain/body.zig`

Added `trauma_mult: f32` to `Part` struct (copied from `PartDef` during `fromPlan`).

### `src/domain/damage.zig`

Added calculation functions:

```zig
pub fn painFromWound(wound: Wound, trauma_mult: f32) f32
pub fn traumaFromWound(wound: Wound, trauma_mult: f32, hit_artery: bool) f32
```

Severity → base pain values:
- `.minor` → 0.3
- `.inhibited` → 1.0
- `.disabled` → 2.5
- `.broken` → 4.0
- `.missing` → 5.0

Severity → base trauma values:
- `.minor` → 0.2
- `.inhibited` → 0.5
- `.disabled` → 1.5
- `.broken` → 3.0
- `.missing` → 4.0
- Arterial hit adds +1.5

### `src/domain/resolution/outcome.zig`

After `applyDamageWithEvents`, apply pain and trauma:

```zig
if (body_result) |result| {
    const trauma_mult = target_body_part.trauma_mult;
    const pain = damage_mod.painFromWound(result.wound, trauma_mult);
    const trauma = damage_mod.traumaFromWound(result.wound, trauma_mult, result.hit_major_artery);
    attack.defender.pain.inflict(pain);
    attack.defender.trauma.inflict(trauma);
}
```

## Tests

- [x] `painFromWound` scales by severity and trauma_mult
- [x] `traumaFromWound` includes arterial bonus
- [x] Build passes
- [x] All tests pass
- [x] Lint clean

## Notes

- Pain and trauma now accumulate automatically when wounds are inflicted during combat resolution
- Values are multiplied by body part's `trauma_mult` for sensitivity (hands, face = higher)
- Arterial hits add +1.5 trauma for the shock factor

---

**Created**: 2026-01-08
**Completed**: 2026-01-08
