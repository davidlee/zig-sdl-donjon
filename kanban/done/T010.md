# T010: Pain/Trauma/Morale Resource Scaffolding

**Status**: done
**Phase**: 4.1 of Increment 4
**Design Doc**: `doc/trauma_wounds_conditions_ph2.md` (Addendum: Revised Increment 4)
**Depends on**: T008 (inc 3 complete)

## Goal

Add pain, trauma, morale Resources to Agent struct. Not wired to wounds yet—just the data structures.

## Rationale

Three orthogonal damage axes:
- **Blood** (existing): circulatory capacity → shock, death
- **Pain** (new): sensory overload → attention capture, guarding
- **Trauma** (new): neurological stress → motor/cognitive impairment
- **Morale** (new, stub): psychological state → fear, surrender (future)

## Changes Made

### `src/domain/stats.zig`

Added to `Resource`:
- `inflict(amount)` - accumulates toward max (inverse of spend)
- `ratio()` - returns current/max (0.0 to 1.0)

### `src/domain/combat/agent.zig`

Added fields:
```zig
pain: stats.Resource,      // init(0.0, 10.0, 0.0) - starts empty
trauma: stats.Resource,    // init(0.0, 10.0, 0.0) - starts empty
morale: stats.Resource,    // init(10.0, 10.0, 0.0) - starts full (future)
```

### `src/domain/apply.zig`

Updated test helper `makeTestAgent` with new fields.

## Tests

- [x] Agent initializes with pain/trauma at 0, morale at max
- [x] `pain.inflict(3.5)` increases current, ratio reflects change
- [x] `Resource.ratio()` returns correct value
- [x] `Resource.inflict()` caps at max

## Acceptance Criteria

- [x] Build passes
- [x] All tests pass
- [x] Lint clean

## Notes

- Used `Resource.ratio()` on Resource itself (per architectural review) rather than adding Agent-level helpers
- Morale is a stub—initialized but not wired to anything

---

**Created**: 2026-01-08
**Completed**: 2026-01-08
