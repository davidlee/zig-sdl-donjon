# T014: Dud Cards Foundation

**Status**: backlog
**Phase**: 4.5 of Increment 4
**Design Doc**: `doc/trauma_wounds_conditions_ph2.md` (Addendum: Dud Cards Mechanic)
**Depends on**: None (parallel track, can start after T010)

## Goal

Card system supports blocking and forced-play mechanics needed for condition-injected dud cards.

## Changes Required

### Trigger Enum

Add new trigger types:
```zig
pub const Trigger = enum {
    on_play,
    on_discard,
    start_of_turn,
    end_of_turn,
    while_in_hand,  // NEW: continuous effect while held
    forced,         // NEW: must play before voluntary cards
};
```

### Card Struct

Add blocking field:
```zig
pub const Card = struct {
    // ... existing fields ...
    blocks_tags: []const Tag = &.{},  // prevents playing cards with these tags while in hand
};
```

### Hand Management

**Forced cards**:
- When selecting a card to play, check if any forced cards are in hand
- If forced cards exist, only allow playing forced cards
- UI should indicate forced cards prominently

**Blocking**:
- When validating card play, check all cards in hand for `blocks_tags`
- If any card blocks a tag the played card has, reject the play
- Discarding the blocking card clears the block

## Tests

- [ ] Card with `trigger = .forced` must be played before voluntary cards
- [ ] Card with `blocks_tags = {.precision}` prevents playing `.precision` tagged cards
- [ ] Discarding blocking card allows blocked cards to be played
- [ ] Multiple blocking cards stack (all blocks apply)
- [ ] Forced + blocking: forced card that blocks still must be played first

## Acceptance Criteria

- [ ] Build passes
- [ ] All tests pass
- [ ] Lint clean

## Notes

This is foundational work. Actual dud card definitions come in T015.

The blocking mechanic creates interesting decisions: do I waste an action playing the dud to clear the block, or discard it (if I have a discard effect)?

---

**Created**: 2026-01-08
