# T011: Wound â†’ Pain/Trauma Wiring

**Status**: backlog
**Phase**: 4.2 of Increment 4
**Design Doc**: `doc/trauma_wounds_conditions_ph2.md` (Addendum: Revised Increment 4)
**Depends on**: T010

## Goal

Wounds generate pain and trauma based on severity and body part sensitivity.

## Changes Required

### Pain/Trauma Calculation

```zig
fn painFromWound(severity: Severity, trauma_mult: f32) f32 {
    const base: f32 = switch (severity) {
        .none => 0,
        .minor => 0.3,
        .inhibited => 1.0,
        .disabled => 2.5,
        .broken => 4.0,
        .missing => 5.0,
    };
    return base * trauma_mult;
}

fn traumaFromWound(severity: Severity, trauma_mult: f32, hit_artery: bool) f32 {
    const base: f32 = switch (severity) {
        .none => 0,
        .minor => 0.2,
        .inhibited => 0.5,
        .disabled => 1.5,
        .broken => 3.0,
        .missing => 4.0,
    };
    var t = base * trauma_mult;
    if (hit_artery) t += 1.5;
    return t;
}
```

### Location

TBD - likely `damage.zig` near wound application, or `body.zig` if wound creation is there.

### Wiring

Where wounds are created/applied:
```zig
agent.pain.damage(painFromWound(wound.worstSeverity(), part.trauma_mult));
agent.trauma.damage(traumaFromWound(wound.worstSeverity(), part.trauma_mult, hit_artery));
```

## Tests

- [ ] Minor wound to low-sensitivity part generates minimal pain/trauma
- [ ] Severe wound to high-sensitivity part (hand, face) generates significant pain
- [ ] Arterial hit adds +1.5 trauma regardless of severity
- [ ] Multiple wounds accumulate

## Acceptance Criteria

- [ ] Build passes
- [ ] All tests pass
- [ ] Lint clean

## Notes

Using `trauma_mult` for both pain and trauma sensitivity is a simplification. Doc notes this could split into `pain_sensitivity` / `neurological_sensitivity` later if needed.

---

**Created**: 2026-01-08
