// AUTO-GENERATED BY scripts/cue_to_zig.py
// DO NOT EDIT MANUALLY.

const damage = @import("../domain/damage.zig");
const stats = @import("../domain/stats.zig");
const body = @import("../domain/body.zig");
const armour = @import("../domain/armour.zig");
const inventory = @import("../domain/inventory.zig");

pub const GeneratedTechniqueID = enum {
    advance,
    block,
    circle,
    deflect,
    disengage,
    hold,
    parry,
    pivot,
    retreat,
    riposte,
    sidestep,
    swing,
    throw,
    thrust,
};

const WeaponDefinition = struct {
    id: []const u8,
    name: []const u8,
    category: []const u8,
    weight_kg: f32,
    length_m: f32,
    balance: f32,
    swing: bool,
    thrust: bool,
    moment_of_inertia: f32 = 0,
    effective_mass: f32 = 0,
    reference_energy_j: f32 = 0,
    geometry_coeff: f32 = 0,
    rigidity_coeff: f32 = 0,
};

pub const GeneratedWeapons = [_]WeaponDefinition{
    .{
        .id = "swords.knights_sword",
        .name = "Knight's Sword",
        .category = "sword",
        .weight_kg = 1.4,
        .length_m = 0.95,
        .balance = 0.55,
        .swing = true,
        .thrust = true,
        .moment_of_inertia = 0.5929,
        .effective_mass = 1.4,
        .reference_energy_j = 10.6716,
        .geometry_coeff = 0.6,
        .rigidity_coeff = 0.7,
    },
    .{
        .id = "swords.arming_sword",
        .name = "Arming Sword",
        .category = "sword",
        .weight_kg = 1.1,
        .length_m = 0.85,
        .balance = 0.5,
        .swing = true,
        .thrust = true,
        .moment_of_inertia = 0.3358,
        .effective_mass = 1.1,
        .reference_energy_j = 6.0441,
        .geometry_coeff = 0.61,
        .rigidity_coeff = 0.7,
    },
    .{
        .id = "improvised.fist_stone",
        .name = "fist stone",
        .category = "improvised",
        .weight_kg = 0.5,
        .length_m = 0.1,
        .balance = 0.5,
        .swing = true,
        .thrust = false,
        .moment_of_inertia = 0.0021,
        .effective_mass = 0.5,
        .reference_energy_j = 0.0169,
        .geometry_coeff = 0.25,
        .rigidity_coeff = 0.4,
    },
    .{
        .id = "natural.fist",
        .name = "Fist",
        .category = "natural",
        .weight_kg = 0.5,
        .length_m = 0.1,
        .balance = 0.5,
        .swing = true,
        .thrust = false,
        .moment_of_inertia = 0.0021,
        .effective_mass = 0.5,
        .reference_energy_j = 0.032,
        .geometry_coeff = 0.15,
        .rigidity_coeff = 0.3,
    },
    .{
        .id = "natural.bite",
        .name = "Bite",
        .category = "natural",
        .weight_kg = 0.3,
        .length_m = 0.05,
        .balance = 0.5,
        .swing = false,
        .thrust = true,
        .moment_of_inertia = 0.0003,
        .effective_mass = 0.3,
        .reference_energy_j = 0.0025,
        .geometry_coeff = 0.45,
        .rigidity_coeff = 0.45,
    },
    .{
        .id = "natural.headbutt",
        .name = "Headbutt",
        .category = "natural",
        .weight_kg = 1,
        .length_m = 0.15,
        .balance = 0.5,
        .swing = false,
        .thrust = true,
        .moment_of_inertia = 0.0095,
        .effective_mass = 1,
        .reference_energy_j = 0.0428,
        .geometry_coeff = 0.1,
        .rigidity_coeff = 0.5,
    },
};

const TechniqueChannels = struct {
    weapon: bool = false,
    off_hand: bool = false,
    footwork: bool = false,
};

pub const TechniqueDefinition = struct {
    id: []const u8,
    name: []const u8,
    attack_mode: []const u8,
    target_height: ?body.Height = null,
    secondary_height: ?body.Height = null,
    guard_height: ?body.Height = null,
    covers_adjacent: bool = false,
    difficulty: f32 = 0,
    channels: TechniqueChannels = .{},
    damage_instances: []const damage.Instance = &.{},
    scaling: stats.Scaling = .{ .ratio = 1.0, .stats = .{ .stat = stats.Accessor.power } },
    deflect_mult: f32 = 1.0,
    parry_mult: f32 = 1.0,
    dodge_mult: f32 = 1.0,
    counter_mult: f32 = 1.0,
    overlay_offensive_to_hit_bonus: f32 = 0,
    overlay_offensive_damage_mult: f32 = 1,
    overlay_defensive_defense_bonus: f32 = 0,
    axis_geometry_mult: f32 = 1,
    axis_energy_mult: f32 = 1,
    axis_rigidity_mult: f32 = 1,
};

pub const GeneratedTechniques = [_]TechniqueDefinition{
    .{
        .id = "thrust",
        .name = "thrust",
        .attack_mode = "thrust",
        .target_height = body.Height.mid,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0.7,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 1, .types = &.{ damage.Kind.pierce } },
        },
        .scaling = .{ .ratio = 0.5, .stats = .{ .average = .{ stats.Accessor.speed, stats.Accessor.power } } },
        .deflect_mult = 1.3,
        .parry_mult = 1.2,
        .dodge_mult = 0.5,
        .counter_mult = 1.1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "swing",
        .name = "swing",
        .attack_mode = "swing",
        .target_height = body.Height.high,
        .secondary_height = body.Height.mid,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 1,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 1, .types = &.{ damage.Kind.slash } },
        },
        .scaling = .{ .ratio = 1.2, .stats = .{ .average = .{ stats.Accessor.speed, stats.Accessor.power } } },
        .deflect_mult = 1,
        .parry_mult = 1.2,
        .dodge_mult = 1.2,
        .counter_mult = 1.3,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "throw",
        .name = "throw",
        .attack_mode = "ranged",
        .target_height = body.Height.mid,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0.9,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 1, .types = &.{ damage.Kind.bludgeon } },
        },
        .scaling = .{ .ratio = 0.8, .stats = .{ .average = .{ stats.Accessor.speed, stats.Accessor.speed } } },
        .deflect_mult = 0.8,
        .parry_mult = 0.7,
        .dodge_mult = 1,
        .counter_mult = 0,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "block",
        .name = "block",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = body.Height.mid,
        .covers_adjacent = true,
        .difficulty = 1,
        .channels = .{ .weapon = false, .off_hand = true, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "riposte",
        .name = "riposte",
        .attack_mode = "thrust",
        .target_height = body.Height.mid,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0.5,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 1.2, .types = &.{ damage.Kind.pierce } },
        },
        .scaling = .{ .ratio = 0.6, .stats = .{ .average = .{ stats.Accessor.speed, stats.Accessor.power } } },
        .deflect_mult = 0.8,
        .parry_mult = 0.9,
        .dodge_mult = 0.6,
        .counter_mult = 1.5,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1.1,
        .axis_energy_mult = 0.9,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "deflect",
        .name = "deflect",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = body.Height.mid,
        .covers_adjacent = true,
        .difficulty = 0.8,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1.2,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 0.8,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "parry",
        .name = "parry",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = body.Height.mid,
        .covers_adjacent = false,
        .difficulty = 1.2,
        .channels = .{ .weapon = true, .off_hand = false, .footwork = false },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 0.8,
        .parry_mult = 1.4,
        .dodge_mult = 1,
        .counter_mult = 1.3,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1.1,
    },
    .{
        .id = "advance",
        .name = "advance",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1.1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "retreat",
        .name = "retreat",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0.1,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "sidestep",
        .name = "sidestep",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0.05,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "hold",
        .name = "hold",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "circle",
        .name = "circle",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "disengage",
        .name = "disengage",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0.05,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
    .{
        .id = "pivot",
        .name = "pivot",
        .attack_mode = "none",
        .target_height = null,
        .secondary_height = null,
        .guard_height = null,
        .covers_adjacent = false,
        .difficulty = 0,
        .channels = .{ .weapon = false, .off_hand = false, .footwork = true },
        .damage_instances = &.{
            .{ .amount = 0, .types = &.{} },
        },
        .scaling = .{ .ratio = 0, .stats = .{ .stat = stats.Accessor.power } },
        .deflect_mult = 1,
        .parry_mult = 1,
        .dodge_mult = 1,
        .counter_mult = 1,
        .overlay_offensive_to_hit_bonus = 0,
        .overlay_offensive_damage_mult = 1,
        .overlay_defensive_defense_bonus = 0,
        .axis_geometry_mult = 1,
        .axis_energy_mult = 1,
        .axis_rigidity_mult = 1,
    },
};

pub const TissueLayerDefinition = struct {
    material_id: []const u8,
    thickness_ratio: f32,
    deflection: f32,
    absorption: f32,
    dispersion: f32,
    geometry_threshold: f32,
    geometry_ratio: f32,
    energy_threshold: f32,
    energy_ratio: f32,
    rigidity_threshold: f32,
    rigidity_ratio: f32,
};

pub const TissueTemplateDefinition = struct {
    id: []const u8,
    notes: []const u8 = "",
    layers: []const TissueLayerDefinition,
};

pub const GeneratedTissueTemplates = [_]TissueTemplateDefinition{
    .{
        .id = "core",
        .notes = "Thick torso sections with ribs, muscle, fat, skin.",
        .layers = &.{
            .{
                .material_id = "skin",
                .thickness_ratio = 0.05,
                .deflection = 0.1,
                .absorption = 0.25,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.85,
                .energy_threshold = 0.05,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "fat",
                .thickness_ratio = 0.15,
                .deflection = 0.02,
                .absorption = 0.55,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.9,
                .energy_threshold = 0.05,
                .energy_ratio = 0.8,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.9,
            },
            .{
                .material_id = "muscle",
                .thickness_ratio = 0.35,
                .deflection = 0.05,
                .absorption = 0.45,
                .dispersion = 0.15,
                .geometry_threshold = 0.05,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.1,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.05,
                .rigidity_ratio = 0.8,
            },
            .{
                .material_id = "bone",
                .thickness_ratio = 0.35,
                .deflection = 0.25,
                .absorption = 0.1,
                .dispersion = 0.35,
                .geometry_threshold = 0.2,
                .geometry_ratio = 0.4,
                .energy_threshold = 0.35,
                .energy_ratio = 0.3,
                .rigidity_threshold = 0.3,
                .rigidity_ratio = 0.2,
            },
            .{
                .material_id = "cartilage",
                .thickness_ratio = 0.1,
                .deflection = 0.15,
                .absorption = 0.35,
                .dispersion = 0.15,
                .geometry_threshold = 0.1,
                .geometry_ratio = 0.6,
                .energy_threshold = 0.2,
                .energy_ratio = 0.5,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.55,
            },
        },
    },
    .{
        .id = "digit",
        .notes = "Minimal soft tissue around slender bones.",
        .layers = &.{
            .{
                .material_id = "skin",
                .thickness_ratio = 0.14,
                .deflection = 0.1,
                .absorption = 0.25,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.85,
                .energy_threshold = 0.05,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "tendon",
                .thickness_ratio = 0.21,
                .deflection = 0.2,
                .absorption = 0.2,
                .dispersion = 0.1,
                .geometry_threshold = 0.08,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.18,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.5,
            },
            .{
                .material_id = "nerve",
                .thickness_ratio = 0.07,
                .deflection = 0.05,
                .absorption = 0.3,
                .dispersion = 0.05,
                .geometry_threshold = 0.01,
                .geometry_ratio = 0.95,
                .energy_threshold = 0.03,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.01,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "bone",
                .thickness_ratio = 0.43,
                .deflection = 0.25,
                .absorption = 0.1,
                .dispersion = 0.35,
                .geometry_threshold = 0.2,
                .geometry_ratio = 0.4,
                .energy_threshold = 0.35,
                .energy_ratio = 0.3,
                .rigidity_threshold = 0.3,
                .rigidity_ratio = 0.2,
            },
            .{
                .material_id = "cartilage",
                .thickness_ratio = 0.15,
                .deflection = 0.15,
                .absorption = 0.35,
                .dispersion = 0.15,
                .geometry_threshold = 0.1,
                .geometry_ratio = 0.6,
                .energy_threshold = 0.2,
                .energy_ratio = 0.5,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.55,
            },
        },
    },
    .{
        .id = "facial",
        .notes = "Cartilage-heavy facial features with light soft tissue.",
        .layers = &.{
            .{
                .material_id = "skin",
                .thickness_ratio = 0.22,
                .deflection = 0.1,
                .absorption = 0.25,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.85,
                .energy_threshold = 0.05,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "fat",
                .thickness_ratio = 0.17,
                .deflection = 0.02,
                .absorption = 0.55,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.9,
                .energy_threshold = 0.05,
                .energy_ratio = 0.8,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.9,
            },
            .{
                .material_id = "cartilage",
                .thickness_ratio = 0.39,
                .deflection = 0.15,
                .absorption = 0.35,
                .dispersion = 0.15,
                .geometry_threshold = 0.1,
                .geometry_ratio = 0.6,
                .energy_threshold = 0.2,
                .energy_ratio = 0.5,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.55,
            },
            .{
                .material_id = "muscle",
                .thickness_ratio = 0.22,
                .deflection = 0.05,
                .absorption = 0.45,
                .dispersion = 0.15,
                .geometry_threshold = 0.05,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.1,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.05,
                .rigidity_ratio = 0.8,
            },
        },
    },
    .{
        .id = "joint",
        .notes = "Bone with cartilage pads and encapsulating ligaments.",
        .layers = &.{
            .{
                .material_id = "skin",
                .thickness_ratio = 0.1,
                .deflection = 0.1,
                .absorption = 0.25,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.85,
                .energy_threshold = 0.05,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "cartilage",
                .thickness_ratio = 0.18,
                .deflection = 0.15,
                .absorption = 0.35,
                .dispersion = 0.15,
                .geometry_threshold = 0.1,
                .geometry_ratio = 0.6,
                .energy_threshold = 0.2,
                .energy_ratio = 0.5,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.55,
            },
            .{
                .material_id = "tendon",
                .thickness_ratio = 0.18,
                .deflection = 0.2,
                .absorption = 0.2,
                .dispersion = 0.1,
                .geometry_threshold = 0.08,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.18,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.5,
            },
            .{
                .material_id = "bone",
                .thickness_ratio = 0.48,
                .deflection = 0.25,
                .absorption = 0.1,
                .dispersion = 0.35,
                .geometry_threshold = 0.2,
                .geometry_ratio = 0.4,
                .energy_threshold = 0.35,
                .energy_ratio = 0.3,
                .rigidity_threshold = 0.3,
                .rigidity_ratio = 0.2,
            },
            .{
                .material_id = "nerve",
                .thickness_ratio = 0.06,
                .deflection = 0.05,
                .absorption = 0.3,
                .dispersion = 0.05,
                .geometry_threshold = 0.01,
                .geometry_ratio = 0.95,
                .energy_threshold = 0.03,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.01,
                .rigidity_ratio = 0.95,
            },
        },
    },
    .{
        .id = "limb",
        .notes = "Bone core wrapped in muscle, tendon, nerves, skin.",
        .layers = &.{
            .{
                .material_id = "skin",
                .thickness_ratio = 0.05,
                .deflection = 0.1,
                .absorption = 0.25,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.85,
                .energy_threshold = 0.05,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "fat",
                .thickness_ratio = 0.1,
                .deflection = 0.02,
                .absorption = 0.55,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.9,
                .energy_threshold = 0.05,
                .energy_ratio = 0.8,
                .rigidity_threshold = 0.02,
                .rigidity_ratio = 0.9,
            },
            .{
                .material_id = "muscle",
                .thickness_ratio = 0.4,
                .deflection = 0.05,
                .absorption = 0.45,
                .dispersion = 0.15,
                .geometry_threshold = 0.05,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.1,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.05,
                .rigidity_ratio = 0.8,
            },
            .{
                .material_id = "tendon",
                .thickness_ratio = 0.1,
                .deflection = 0.2,
                .absorption = 0.2,
                .dispersion = 0.1,
                .geometry_threshold = 0.08,
                .geometry_ratio = 0.7,
                .energy_threshold = 0.18,
                .energy_ratio = 0.6,
                .rigidity_threshold = 0.15,
                .rigidity_ratio = 0.5,
            },
            .{
                .material_id = "nerve",
                .thickness_ratio = 0.05,
                .deflection = 0.05,
                .absorption = 0.3,
                .dispersion = 0.05,
                .geometry_threshold = 0.01,
                .geometry_ratio = 0.95,
                .energy_threshold = 0.03,
                .energy_ratio = 0.9,
                .rigidity_threshold = 0.01,
                .rigidity_ratio = 0.95,
            },
            .{
                .material_id = "bone",
                .thickness_ratio = 0.3,
                .deflection = 0.25,
                .absorption = 0.1,
                .dispersion = 0.35,
                .geometry_threshold = 0.2,
                .geometry_ratio = 0.4,
                .energy_threshold = 0.35,
                .energy_ratio = 0.3,
                .rigidity_threshold = 0.3,
                .rigidity_ratio = 0.2,
            },
        },
    },
    .{
        .id = "organ",
        .notes = "Soft organ tissue.",
        .layers = &.{
            .{
                .material_id = "organ",
                .thickness_ratio = 1,
                .deflection = 0.05,
                .absorption = 0.6,
                .dispersion = 0.1,
                .geometry_threshold = 0.02,
                .geometry_ratio = 0.9,
                .energy_threshold = 0.08,
                .energy_ratio = 0.7,
                .rigidity_threshold = 0.03,
                .rigidity_ratio = 0.85,
            },
        },
    },
};

pub const BodyPartGeometry = struct {
    thickness_cm: f32,
    length_cm: f32,
    area_cm2: f32,
};

pub const BodyPartDefinition = struct {
    name: []const u8,
    tag: body.PartTag,
    side: body.Side = body.Side.center,
    parent: ?[]const u8 = null,
    enclosing: ?[]const u8 = null,
    tissue_template_id: []const u8,
    has_major_artery: bool = false,
    flags: body.PartDef.Flags = .{},
    geometry: BodyPartGeometry,
};

pub const BodyPlanDefinition = struct {
    id: []const u8,
    name: []const u8,
    base_height_cm: f32,
    base_mass_kg: f32,
    parts: []const BodyPartDefinition,
};

pub const GeneratedBodyPlans = [_]BodyPlanDefinition{
    .{
        .id = "humanoid",
        .name = "Humanoid Plan",
        .base_height_cm = 175,
        .base_mass_kg = 80,
        .parts = &.{
            .{
                .name = "torso",
                .tag = body.PartTag.torso,
                .side = body.Side.center,
                .tissue_template_id = "core",
                .flags = .{ .is_vital = true },
                .geometry = .{ .thickness_cm = 32, .length_cm = 55, .area_cm2 = 1200 },
            },
            .{
                .name = "abdomen",
                .tag = body.PartTag.abdomen,
                .side = body.Side.center,
                .parent = "torso",
                .tissue_template_id = "core",
                .flags = .{ .is_vital = true },
                .geometry = .{ .thickness_cm = 28, .length_cm = 45, .area_cm2 = 950 },
            },
            .{
                .name = "heart",
                .tag = body.PartTag.heart,
                .side = body.Side.center,
                .parent = "torso",
                .enclosing = "torso",
                .tissue_template_id = "organ",
                .flags = .{ .is_vital = true, .is_internal = true },
                .geometry = .{ .thickness_cm = 8, .length_cm = 12, .area_cm2 = 90 },
            },
            .{
                .name = "left_lung",
                .tag = body.PartTag.lung,
                .side = body.Side.left,
                .parent = "torso",
                .enclosing = "torso",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 10, .length_cm = 25, .area_cm2 = 200 },
            },
            .{
                .name = "left_shoulder",
                .tag = body.PartTag.shoulder,
                .side = body.Side.left,
                .parent = "torso",
                .tissue_template_id = "limb",
                .has_major_artery = true,
                .flags = .{},
                .geometry = .{ .thickness_cm = 18, .length_cm = 18, .area_cm2 = 360 },
            },
            .{
                .name = "neck",
                .tag = body.PartTag.neck,
                .side = body.Side.center,
                .parent = "torso",
                .tissue_template_id = "core",
                .has_major_artery = true,
                .flags = .{ .is_vital = true },
                .geometry = .{ .thickness_cm = 14, .length_cm = 15, .area_cm2 = 320 },
            },
            .{
                .name = "right_lung",
                .tag = body.PartTag.lung,
                .side = body.Side.right,
                .parent = "torso",
                .enclosing = "torso",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 10, .length_cm = 25, .area_cm2 = 220 },
            },
            .{
                .name = "right_shoulder",
                .tag = body.PartTag.shoulder,
                .side = body.Side.right,
                .parent = "torso",
                .tissue_template_id = "limb",
                .has_major_artery = true,
                .flags = .{},
                .geometry = .{ .thickness_cm = 18, .length_cm = 18, .area_cm2 = 360 },
            },
            .{
                .name = "groin",
                .tag = body.PartTag.groin,
                .side = body.Side.center,
                .parent = "abdomen",
                .tissue_template_id = "joint",
                .has_major_artery = true,
                .flags = .{},
                .geometry = .{ .thickness_cm = 18, .length_cm = 12, .area_cm2 = 260 },
            },
            .{
                .name = "head",
                .tag = body.PartTag.head,
                .side = body.Side.center,
                .parent = "neck",
                .tissue_template_id = "core",
                .flags = .{ .is_vital = true },
                .geometry = .{ .thickness_cm = 20, .length_cm = 25, .area_cm2 = 450 },
            },
            .{
                .name = "intestines",
                .tag = body.PartTag.intestine,
                .side = body.Side.center,
                .parent = "abdomen",
                .enclosing = "abdomen",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 8, .length_cm = 35, .area_cm2 = 250 },
            },
            .{
                .name = "left_arm",
                .tag = body.PartTag.arm,
                .side = body.Side.left,
                .parent = "left_shoulder",
                .tissue_template_id = "limb",
                .flags = .{},
                .geometry = .{ .thickness_cm = 12, .length_cm = 35, .area_cm2 = 260 },
            },
            .{
                .name = "liver",
                .tag = body.PartTag.liver,
                .side = body.Side.center,
                .parent = "abdomen",
                .enclosing = "abdomen",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 9, .length_cm = 20, .area_cm2 = 180 },
            },
            .{
                .name = "right_arm",
                .tag = body.PartTag.arm,
                .side = body.Side.right,
                .parent = "right_shoulder",
                .tissue_template_id = "limb",
                .flags = .{},
                .geometry = .{ .thickness_cm = 12, .length_cm = 35, .area_cm2 = 260 },
            },
            .{
                .name = "spleen",
                .tag = body.PartTag.spleen,
                .side = body.Side.left,
                .parent = "abdomen",
                .enclosing = "abdomen",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 6, .length_cm = 12, .area_cm2 = 80 },
            },
            .{
                .name = "stomach",
                .tag = body.PartTag.stomach,
                .side = body.Side.center,
                .parent = "abdomen",
                .enclosing = "abdomen",
                .tissue_template_id = "organ",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 8, .length_cm = 18, .area_cm2 = 150 },
            },
            .{
                .name = "trachea",
                .tag = body.PartTag.trachea,
                .side = body.Side.center,
                .parent = "neck",
                .enclosing = "neck",
                .tissue_template_id = "facial",
                .flags = .{ .is_internal = true },
                .geometry = .{ .thickness_cm = 4, .length_cm = 12, .area_cm2 = 60 },
            },
            .{
                .name = "brain",
                .tag = body.PartTag.brain,
                .side = body.Side.center,
                .parent = "head",
                .enclosing = "head",
                .tissue_template_id = "organ",
                .flags = .{ .is_vital = true, .is_internal = true },
                .geometry = .{ .thickness_cm = 6, .length_cm = 18, .area_cm2 = 140 },
            },
            .{
                .name = "left_ear",
                .tag = body.PartTag.ear,
                .side = body.Side.left,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{ .can_hear = true },
                .geometry = .{ .thickness_cm = 2, .length_cm = 6, .area_cm2 = 20 },
            },
            .{
                .name = "left_elbow",
                .tag = body.PartTag.elbow,
                .side = body.Side.left,
                .parent = "left_arm",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 10, .length_cm = 8, .area_cm2 = 140 },
            },
            .{
                .name = "left_eye",
                .tag = body.PartTag.eye,
                .side = body.Side.left,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{ .can_see = true },
                .geometry = .{ .thickness_cm = 3, .length_cm = 2.5, .area_cm2 = 15 },
            },
            .{
                .name = "left_thigh",
                .tag = body.PartTag.thigh,
                .side = body.Side.left,
                .parent = "groin",
                .tissue_template_id = "limb",
                .has_major_artery = true,
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 18, .length_cm = 45, .area_cm2 = 320 },
            },
            .{
                .name = "nose",
                .tag = body.PartTag.nose,
                .side = body.Side.center,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{},
                .geometry = .{ .thickness_cm = 4, .length_cm = 6, .area_cm2 = 40 },
            },
            .{
                .name = "right_ear",
                .tag = body.PartTag.ear,
                .side = body.Side.right,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{ .can_hear = true },
                .geometry = .{ .thickness_cm = 2, .length_cm = 6, .area_cm2 = 20 },
            },
            .{
                .name = "right_elbow",
                .tag = body.PartTag.elbow,
                .side = body.Side.right,
                .parent = "right_arm",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 10, .length_cm = 8, .area_cm2 = 140 },
            },
            .{
                .name = "right_eye",
                .tag = body.PartTag.eye,
                .side = body.Side.right,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{ .can_see = true },
                .geometry = .{ .thickness_cm = 3, .length_cm = 2.5, .area_cm2 = 15 },
            },
            .{
                .name = "right_thigh",
                .tag = body.PartTag.thigh,
                .side = body.Side.right,
                .parent = "groin",
                .tissue_template_id = "limb",
                .has_major_artery = true,
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 18, .length_cm = 45, .area_cm2 = 320 },
            },
            .{
                .name = "tongue",
                .tag = body.PartTag.tongue,
                .side = body.Side.center,
                .parent = "head",
                .tissue_template_id = "facial",
                .flags = .{},
                .geometry = .{ .thickness_cm = 3, .length_cm = 12, .area_cm2 = 60 },
            },
            .{
                .name = "left_forearm",
                .tag = body.PartTag.forearm,
                .side = body.Side.left,
                .parent = "left_elbow",
                .tissue_template_id = "limb",
                .flags = .{},
                .geometry = .{ .thickness_cm = 9, .length_cm = 28, .area_cm2 = 210 },
            },
            .{
                .name = "left_knee",
                .tag = body.PartTag.knee,
                .side = body.Side.left,
                .parent = "left_thigh",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 12, .length_cm = 8, .area_cm2 = 150 },
            },
            .{
                .name = "right_forearm",
                .tag = body.PartTag.forearm,
                .side = body.Side.right,
                .parent = "right_elbow",
                .tissue_template_id = "limb",
                .flags = .{},
                .geometry = .{ .thickness_cm = 9, .length_cm = 28, .area_cm2 = 210 },
            },
            .{
                .name = "right_knee",
                .tag = body.PartTag.knee,
                .side = body.Side.right,
                .parent = "right_thigh",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 12, .length_cm = 8, .area_cm2 = 150 },
            },
            .{
                .name = "left_shin",
                .tag = body.PartTag.shin,
                .side = body.Side.left,
                .parent = "left_knee",
                .tissue_template_id = "limb",
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 14, .length_cm = 40, .area_cm2 = 260 },
            },
            .{
                .name = "left_wrist",
                .tag = body.PartTag.wrist,
                .side = body.Side.left,
                .parent = "left_forearm",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 7, .length_cm = 5, .area_cm2 = 80 },
            },
            .{
                .name = "right_shin",
                .tag = body.PartTag.shin,
                .side = body.Side.right,
                .parent = "right_knee",
                .tissue_template_id = "limb",
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 14, .length_cm = 40, .area_cm2 = 260 },
            },
            .{
                .name = "right_wrist",
                .tag = body.PartTag.wrist,
                .side = body.Side.right,
                .parent = "right_forearm",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 7, .length_cm = 5, .area_cm2 = 80 },
            },
            .{
                .name = "left_ankle",
                .tag = body.PartTag.ankle,
                .side = body.Side.left,
                .parent = "left_shin",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 8, .length_cm = 6, .area_cm2 = 90 },
            },
            .{
                .name = "left_hand",
                .tag = body.PartTag.hand,
                .side = body.Side.left,
                .parent = "left_wrist",
                .tissue_template_id = "joint",
                .flags = .{ .can_grasp = true },
                .geometry = .{ .thickness_cm = 4, .length_cm = 18, .area_cm2 = 110 },
            },
            .{
                .name = "right_ankle",
                .tag = body.PartTag.ankle,
                .side = body.Side.right,
                .parent = "right_shin",
                .tissue_template_id = "joint",
                .flags = .{},
                .geometry = .{ .thickness_cm = 8, .length_cm = 6, .area_cm2 = 90 },
            },
            .{
                .name = "right_hand",
                .tag = body.PartTag.hand,
                .side = body.Side.right,
                .parent = "right_wrist",
                .tissue_template_id = "joint",
                .flags = .{ .can_grasp = true },
                .geometry = .{ .thickness_cm = 4, .length_cm = 18, .area_cm2 = 110 },
            },
            .{
                .name = "left_foot",
                .tag = body.PartTag.foot,
                .side = body.Side.left,
                .parent = "left_ankle",
                .tissue_template_id = "joint",
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 5, .length_cm = 26, .area_cm2 = 180 },
            },
            .{
                .name = "left_index_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.left,
                .parent = "left_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 7, .area_cm2 = 15 },
            },
            .{
                .name = "left_middle_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.left,
                .parent = "left_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 8, .area_cm2 = 16 },
            },
            .{
                .name = "left_pinky_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.left,
                .parent = "left_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.8, .length_cm = 6, .area_cm2 = 13 },
            },
            .{
                .name = "left_ring_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.left,
                .parent = "left_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 7, .area_cm2 = 15 },
            },
            .{
                .name = "left_thumb",
                .tag = body.PartTag.thumb,
                .side = body.Side.left,
                .parent = "left_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2.5, .length_cm = 6, .area_cm2 = 18 },
            },
            .{
                .name = "right_foot",
                .tag = body.PartTag.foot,
                .side = body.Side.right,
                .parent = "right_ankle",
                .tissue_template_id = "joint",
                .flags = .{ .can_stand = true },
                .geometry = .{ .thickness_cm = 5, .length_cm = 26, .area_cm2 = 180 },
            },
            .{
                .name = "right_index_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.right,
                .parent = "right_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 7, .area_cm2 = 15 },
            },
            .{
                .name = "right_middle_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.right,
                .parent = "right_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 8, .area_cm2 = 16 },
            },
            .{
                .name = "right_pinky_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.right,
                .parent = "right_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.8, .length_cm = 6, .area_cm2 = 13 },
            },
            .{
                .name = "right_ring_finger",
                .tag = body.PartTag.finger,
                .side = body.Side.right,
                .parent = "right_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 7, .area_cm2 = 15 },
            },
            .{
                .name = "right_thumb",
                .tag = body.PartTag.thumb,
                .side = body.Side.right,
                .parent = "right_hand",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2.5, .length_cm = 6, .area_cm2 = 18 },
            },
            .{
                .name = "left_big_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.left,
                .parent = "left_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2.2, .length_cm = 5, .area_cm2 = 12 },
            },
            .{
                .name = "left_fourth_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.left,
                .parent = "left_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.8, .length_cm = 4, .area_cm2 = 9 },
            },
            .{
                .name = "left_pinky_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.left,
                .parent = "left_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.7, .length_cm = 3.5, .area_cm2 = 8 },
            },
            .{
                .name = "left_second_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.left,
                .parent = "left_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 4.5, .area_cm2 = 11 },
            },
            .{
                .name = "left_third_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.left,
                .parent = "left_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.9, .length_cm = 4.5, .area_cm2 = 10 },
            },
            .{
                .name = "right_big_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.right,
                .parent = "right_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2.2, .length_cm = 5, .area_cm2 = 12 },
            },
            .{
                .name = "right_fourth_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.right,
                .parent = "right_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.8, .length_cm = 4, .area_cm2 = 9 },
            },
            .{
                .name = "right_pinky_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.right,
                .parent = "right_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.7, .length_cm = 3.5, .area_cm2 = 8 },
            },
            .{
                .name = "right_second_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.right,
                .parent = "right_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 2, .length_cm = 4.5, .area_cm2 = 11 },
            },
            .{
                .name = "right_third_toe",
                .tag = body.PartTag.toe,
                .side = body.Side.right,
                .parent = "right_foot",
                .tissue_template_id = "digit",
                .flags = .{},
                .geometry = .{ .thickness_cm = 1.9, .length_cm = 4.5, .area_cm2 = 10 },
            },
        },
    },
};

pub const NaturalWeaponRef = struct {
    weapon_id: []const u8,
    required_part: body.PartTag,
};

pub const SpeciesDefinition = struct {
    id: []const u8,
    name: []const u8,
    body_plan: []const u8,
    base_blood: f32,
    base_stamina: f32,
    base_focus: f32,
    stamina_recovery: ?f32 = null,
    focus_recovery: ?f32 = null,
    blood_recovery: ?f32 = null,
    size_height: f32 = 1.0,
    size_mass: f32 = 1.0,
    tags: []const []const u8 = &.{},
    natural_weapons: []const NaturalWeaponRef = &.{},
};

pub const GeneratedSpecies = [_]SpeciesDefinition{
    .{
        .id = "dwarf",
        .name = "Dwarf",
        .body_plan = "humanoid",
        .base_blood = 4.5,
        .base_stamina = 12,
        .base_focus = 8,
        .size_height = 0.9,
        .size_mass = 1.1,
        .tags = &.{ "humanoid", "mammal" },
        .natural_weapons = &.{
            .{ .weapon_id = "natural.fist", .required_part = body.PartTag.hand },
            .{ .weapon_id = "natural.headbutt", .required_part = body.PartTag.head },
        },
    },
    .{
        .id = "goblin",
        .name = "Goblin",
        .body_plan = "humanoid",
        .base_blood = 3.5,
        .base_stamina = 10,
        .base_focus = 6,
        .size_height = 0.8,
        .size_mass = 0.7,
        .tags = &.{ "humanoid", "mammal", "predator" },
        .natural_weapons = &.{
            .{ .weapon_id = "natural.fist", .required_part = body.PartTag.hand },
            .{ .weapon_id = "natural.bite", .required_part = body.PartTag.head },
        },
    },
};

pub const ArmourMaterialDefinition = struct {
    id: []const u8,
    name: []const u8,
    deflection: f32,
    absorption: f32,
    dispersion: f32,
    geometry_threshold: f32,
    geometry_ratio: f32,
    energy_threshold: f32,
    energy_ratio: f32,
    rigidity_threshold: f32,
    rigidity_ratio: f32,
    shape_profile: []const u8 = "solid",
    shape_dispersion_bonus: f32 = 0,
    shape_absorption_bonus: f32 = 0,
};

pub const GeneratedArmourMaterials = [_]ArmourMaterialDefinition{
    .{
        .id = "chainmail",
        .name = "chainmail",
        .deflection = 0.55,
        .absorption = 0.3,
        .dispersion = 0.2,
        .geometry_threshold = 0.15,
        .geometry_ratio = 0.5,
        .energy_threshold = 0.25,
        .energy_ratio = 0.6,
        .rigidity_threshold = 0.25,
        .rigidity_ratio = 0.5,
        .shape_profile = "mesh",
        .shape_dispersion_bonus = -0.05,
        .shape_absorption_bonus = 0.05,
    },
    .{
        .id = "gambeson",
        .name = "gambeson",
        .deflection = 0.2,
        .absorption = 0.65,
        .dispersion = 0.4,
        .geometry_threshold = 0.05,
        .geometry_ratio = 0.8,
        .energy_threshold = 0.15,
        .energy_ratio = 0.5,
        .rigidity_threshold = 0.1,
        .rigidity_ratio = 0.7,
        .shape_profile = "quilted",
        .shape_dispersion_bonus = 0.2,
        .shape_absorption_bonus = 0.1,
    },
    .{
        .id = "steel_plate",
        .name = "steel plate",
        .deflection = 0.85,
        .absorption = 0.25,
        .dispersion = 0.35,
        .geometry_threshold = 0.3,
        .geometry_ratio = 0.3,
        .energy_threshold = 0.5,
        .energy_ratio = 0.4,
        .rigidity_threshold = 0.45,
        .rigidity_ratio = 0.3,
        .shape_profile = "solid",
        .shape_dispersion_bonus = 0.1,
        .shape_absorption_bonus = -0.05,
    },
};

pub const ArmourCoverageEntry = struct {
    part_tags: []const body.PartTag,
    side: body.Side = body.Side.center,
    layer: inventory.Layer,
    totality: armour.Totality,
};

pub const ArmourPieceDefinition = struct {
    id: []const u8,
    name: []const u8,
    material_id: []const u8,
    coverage: []const ArmourCoverageEntry,
};

pub const GeneratedArmourPieces = [_]ArmourPieceDefinition{
    .{
        .id = "gambeson_jacket",
        .name = "Gambeson Jacket",
        .material_id = "gambeson",
        .coverage = &.{
            .{
                .part_tags = &.{ body.PartTag.torso, body.PartTag.abdomen, body.PartTag.shoulder },
                .side = body.Side.center,
                .layer = inventory.Layer.Gambeson,
                .totality = armour.Totality.frontal,
            },
        },
    },
    .{
        .id = "steel_breastplate",
        .name = "Steel Breastplate",
        .material_id = "steel_plate",
        .coverage = &.{
            .{
                .part_tags = &.{ body.PartTag.torso, body.PartTag.abdomen },
                .side = body.Side.center,
                .layer = inventory.Layer.Plate,
                .totality = armour.Totality.comprehensive,
            },
        },
    },
};

pub const AttackerSpec = struct {
    species: []const u8 = "dwarf",
    weapon_id: []const u8,
    technique_id: []const u8,
    stakes: []const u8 = "committed",
    power: ?f32 = null,
    speed: ?f32 = null,
    skill: ?f32 = null,
};

pub const DefenderSpec = struct {
    species: []const u8 = "dwarf",
    armour_ids: []const []const u8 = &.{},
    pose: []const u8 = "balanced",
    target_part: []const u8 = "torso",
};

pub const ExpectedOutcome = struct {
    outcome: ?[]const u8 = null,
    damage_dealt_min: ?f32 = null,
    damage_dealt_max: ?f32 = null,
    packet_energy_min: ?f32 = null,
    packet_geometry_min: ?f32 = null,
    armour_deflected: ?bool = null,
    penetrated_layers_min: ?u8 = null,
    penetrated_layers_max: ?u8 = null,
};

pub const CombatTestDefinition = struct {
    id: []const u8,
    description: []const u8,
    attacker: AttackerSpec,
    defender: DefenderSpec,
    expected: ExpectedOutcome,
};

pub const GeneratedCombatTests = [_]CombatTestDefinition{
    .{
        .id = "fist_vs_unarmoured",
        .description = "Fist should deal moderate blunt damage to unarmoured target",
        .attacker = .{
            .species = "dwarf",
            .weapon_id = "natural.fist",
            .technique_id = "swing",
            .stakes = "committed",
        },
        .defender = .{
            .species = "dwarf",
            .armour_ids = &.{  },
            .pose = "balanced",
            .target_part = "torso",
        },
        .expected = .{
            .damage_dealt_min = 0,
            .damage_dealt_max = 6,
        },
    },
    .{
        .id = "sword_slash_vs_plate",
        .description = "Knight's sword slash should be deflected by plate armour",
        .attacker = .{
            .species = "dwarf",
            .weapon_id = "swords.knights_sword",
            .technique_id = "swing",
            .stakes = "committed",
        },
        .defender = .{
            .species = "dwarf",
            .armour_ids = &.{ "steel_breastplate" },
            .pose = "balanced",
            .target_part = "torso",
        },
        .expected = .{
            .damage_dealt_max = 1,
            .armour_deflected = true,
        },
    },
    .{
        .id = "sword_thrust_vs_plate",
        .description = "Knight's sword thrust should penetrate plate at weak points",
        .attacker = .{
            .species = "dwarf",
            .weapon_id = "swords.knights_sword",
            .technique_id = "thrust",
            .stakes = "committed",
        },
        .defender = .{
            .species = "dwarf",
            .armour_ids = &.{ "steel_breastplate" },
            .pose = "balanced",
            .target_part = "torso",
        },
        .expected = .{
            .damage_dealt_min = 0,
            .damage_dealt_max = 6,
        },
    },
    .{
        .id = "sword_vs_gambeson",
        .description = "Sword should cut through gambeson but with reduced effect",
        .attacker = .{
            .species = "dwarf",
            .weapon_id = "swords.knights_sword",
            .technique_id = "swing",
            .stakes = "committed",
        },
        .defender = .{
            .species = "dwarf",
            .armour_ids = &.{ "gambeson_jacket" },
            .pose = "balanced",
            .target_part = "torso",
        },
        .expected = .{
            .damage_dealt_min = 0,
            .damage_dealt_max = 6,
        },
    },
};